<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RAF(Request Animation Frame) are executed (all at once if it's in the same callback) before the next rendering</title>
	<style>
		button:hover {
			background-color: yellow;
		}
	</style>
</head>
<body>
<button>btn</button>
<script>
	'use strict';

	const btn = document.querySelector('button');
	btn.addEventListener('click', () => {
    // RAF(Request Animation Frame) 
    // the code lines below are executed all at once before the next rendering
    // thus we can see the btn color changes
    // and before next render, the background color would be changed to 'green'
		requestAnimationFrame(() => {
		document.body.style.backgroundColor = 'red';
		});
		requestAnimationFrame(() => {
		document.body.style.backgroundColor = 'blue';
		});
		requestAnimationFrame(() => {
		document.body.style.backgroundColor = 'green';
		});
	});
</script>
</body>
</html>